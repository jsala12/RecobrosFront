<ngx-spinner
size="medium"
color="#fff"
type="ball-fussion"
>
<br>    
<img src="./assets/logo-bogota-blanco.png" alt="Logo del banco">
</ngx-spinner>
<ngx-alerts></ngx-alerts>
<h5>
Informes &nbsp;<mat-icon aria-hidden="false" aria-label="Example home icon" title="" style="vertical-align: bottom;">table_chart</mat-icon>
<i class="material-icons" style="vertical-align: bottom;">navigate_next</i>
<span title="Informe incobrables">I. Incobrables</span>&nbsp;<mat-icon aria-hidden="false" aria-label="Example home icon" title="" style="vertical-align: bottom;">cloud_download</mat-icon>
</h5>
<br>
<div class="container">
    <div class="row">
        <div class="col-2"></div>
        <div class="col-8" id="mensaje">
            <br>
            <h5 style="text-align: center; color: black">
                <span *ngIf="datosP.length!=0">
                    Este informe de incobrables tiene datos 
                    <span *ngIf="!fechaFinal && !fechaInicial">
                        desde la activación del Módulo de Recobros hasta hoy
                    </span>
                    <span *ngIf="fechaFinal && !fechaInicial">
                        desde la activación del Módulo de Recobros {{fechaFinal}}
                    </span>
                    <span *ngIf="!fechaFinal && fechaInicial">
                        desde {{fechaInicial}} hasta hoy
                    </span>
                    <span *ngIf="fechaFinal && fechaInicial"> 
                        desde {{fechaInicial}} hasta {{fechaFinal}}
                    </span>
                    <span *ngIf="codTransaccionA==''">
                        para todas las transacciones.
                    </span>
                    <span *ngIf="codTransaccionA!=''">
                        para la transacción {{codTransaccionA}}.
                    </span>
                </span>                
            </h5>            
            <h5>
                Puede aplicar los siguientes filtros:
            </h5>
            <div class="col-12">
                <mat-form-field appearance="outline" style="font-size: 12px; width: 180px;">
                    <mat-label>Fecha rechazo inicial</mat-label>
                    <input matInput  [min]="minDate" [max]="maxDate" [matDatepicker]="pickerInicio" id="pickerInicio" placeholder="Fecha Inicial">
                    <mat-datepicker-toggle matSuffix [for]="pickerInicio"></mat-datepicker-toggle>
                    <mat-datepicker #pickerInicio></mat-datepicker>
                </mat-form-field>&nbsp;
                <mat-form-field appearance="outline" style="font-size: 12px; width: 180px;">
                    <mat-label>Fecha rechazo final</mat-label>
                    <input matInput  [min]="minDate" [max]="maxDate"  [matDatepicker]="pickerFin" id="pickerFin" placeholder="Fecha Final">
                    <mat-datepicker-toggle matSuffix [for]="pickerFin"></mat-datepicker-toggle>
                    <mat-datepicker #pickerFin></mat-datepicker>
                </mat-form-field>&nbsp; 
                <mat-form-field appearance="outline" style="font-size: 12px; width: 150px;">
                    <mat-label>Código transacción</mat-label>          
                    <input matInput placeholder="Código Transacción" id="codTransaccion" #codTransaccion>
                    <mat-icon matSuffix>looks_one</mat-icon>
                </mat-form-field>&nbsp; 
                <button mat-raised-button color="primary" (click)="filtrarReporte()" title="Filtrar informe...">
                    <i class="material-icons">
                        search
                    </i>
                </button>&nbsp; 
            </div>              
            <h5>Este informe no permite visualización por su gran tamaño, puede descargarlo haciendo click en el botón "Exportar".</h5>
            <br>
            <h5>
                <span *ngIf="datosP.length==0">No se ha cargado la información.</span>
                <span *ngIf="datosP.length!=0">Información cargada correctamente, puede descargarla.</span>
            </h5>
            <button *ngIf="datosP.length==0" title="No hay datos, use los filtros." disabled mat-raised-button color="secundary" (click)="ExportTOExcel()">
                &nbsp;&nbsp;&nbsp;Exportar&nbsp;&nbsp;&nbsp;<img src="./assets/icoExcel.png" alt="Hoja de cálculo" height="25">&nbsp;&nbsp;&nbsp;<br>
            </button>
            <button *ngIf="datosP.length!=0" mat-raised-button color="secundary" (click)="ExportTOExcel()">
                &nbsp;&nbsp;&nbsp;Exportar&nbsp;&nbsp;&nbsp;<img src="./assets/icoExcel.png" alt="Hoja de cálculo" height="25">&nbsp;&nbsp;&nbsp;<br>
            </button>
            <br><br>
        </div>
        <div class="col-2"></div>
    </div>
</div>